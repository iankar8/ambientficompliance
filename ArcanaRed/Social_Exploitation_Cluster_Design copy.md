# Social & Exploitation Cluster Design

## 1. Overview
This cluster handles voice-based social engineering and automated takeover actions:
- **Social Cluster**: AI call-handler (Vapi.ai) to collect PII and OTP.
- **Exploitation Cluster**: Headless browser automation (Playwright) to perform account actions.

## 2. Components

### 2.1 VAPI Call-Handler
- **Entrypoint**: Phone number link.
- **Functionality**: Greet, collect username, DOB, SSN4, request OTP, maintain rapport.
- **Tech**: Vapi.ai SDK, Node.js, Redis session store.

### 2.2 Redis Blackboard & Supervisor
- **Redis**: Schema for session {session_id, username, dob, ssn4, otp}.
- **Supervisor**: Node.js service listening to Redis Streams to coordinate clusters, enforce timeouts.

### 2.3 Exploitation Cluster (Playwright)
- **Actions**:
  1. Login with PII and OTP
  2. Change password
  3. Send $500 via Zelle
  4. Cleanup logs
- **Tech**: Playwright, TypeScript, Docker
- **Environment**: Isolated VM or container per session

## 3. Data Flow
1. VAPI agent writes PII to Redis.
2. Supervisor triggers Exploitation when OTP present.
3. Exploitation reads from Redis and executes actions.
4. Results/status written back to Redis for closure.

## 4. Dependencies
- Node.js >= 16
- Redis >= 6 (Streams, ACL)
- Vapi.ai account & API key
- Playwright >= 1.30
- Docker & Kubernetes for scaling

## 5. Deployment
- Each component containerized (Docker).
- K8s deployment: 3 pods for repro and canaries.
- Redis cluster (replication + persistence).

## 6. Testing & Validation
- **Unit**: Mock VAPI, Redis for call-handler logic.
- **Integration**: End-to-end demo in staging.
- **Performance**: Measure full flow < 90s.
