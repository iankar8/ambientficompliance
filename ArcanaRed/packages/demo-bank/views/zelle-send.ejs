<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo Bank | Send Money with Zelle</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body class="page page--dashboard">
    <header class="header header--authenticated">
      <h1 class="header__logo">Demo Bank</h1>
      <nav class="nav">
        <a class="nav__item" href="/dashboard" data-testid="nav-dashboard">Accounts</a>
        <a class="nav__item nav__item--active" href="/zelle/send" data-testid="nav-zelle">Send Money</a>
        <a class="nav__item" href="/forgot-password" data-testid="nav-support">Support</a>
      </nav>
      <form method="post" action="/logout">
        <button class="button button--ghost" type="submit" data-testid="logout-button">Sign Out</button>
      </form>
    </header>

    <main class="dashboard">
      <section class="card">
        <h2 class="card__title">Send Money with Zelle</h2>
        <p class="card__subtitle">Transfers typically arrive within minutes.</p>
        <% if (error) { %>
          <div class="alert alert--error" data-testid="zelle-error"><%= error %></div>
        <% } %>
        <form method="post" action="/zelle/send" data-testid="zelle-form">
          <label class="form__label" for="recipientId">Recipient</label>
          <select
            class="form__input"
            id="recipientId"
            name="recipientId"
            data-testid="zelle-recipient"
          >
            <% recipients.forEach((recipient) => { %>
              <option value="<%= recipient.id %>" <%= recipient.id === values.recipientId ? 'selected' : '' %>>
                <%= recipient.name %> •••• <%= recipient.accountLast4 %>
              </option>
            <% }); %>
          </select>

          <label class="form__label" for="amount">Amount</label>
          <div class="form__input-group">
            <span class="form__input-prefix">$</span>
            <input
              class="form__input form__input--with-prefix"
              id="amount"
              name="amount"
              type="number"
              min="0"
              step="0.01"
              value="<%= values.amount %>"
              data-testid="zelle-amount"
              required
            />
          </div>

          <label class="form__label" for="note">Note (optional)</label>
          <input
            class="form__input"
            id="note"
            name="note"
            type="text"
            maxlength="140"
            value="<%= values.note %>"
            data-testid="zelle-note"
          />

          <button class="button button--primary" type="submit" data-testid="zelle-submit">
            Review and Send
          </button>
        </form>
      </section>
    </main>
  </body>
</html>
